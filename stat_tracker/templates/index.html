{% load staticfiles %}
<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Stats</title>

    <link rel="stylesheet" href="{% static 'css/reset.css' %}" />
    <link rel="stylesheet" href="{% static 'css/c3.min.css' %}" />
    <link rel="stylesheet" href="{% static 'css/defaults.css' %}" />
    <link rel="stylesheet" href="{% static 'css/nav-bar.css' %}" />
    <link rel="stylesheet" href="{% static 'css/main.css' %}" />

  </head>

  <body>

    <nav class="nav-bar"><span>Stat Tracker<span></nav>

    <main class="main-content"></main>
    
    <script type="text/html" id="login">
      {% if form.errors %}
        <p>Your username and password didn't match. Please try again.</p>
        {% endif %}

        {% if next %}
            {% if user.is_authenticated %}
            <p>Your account doesn't have access to this page. To proceed,
            please login with an account that has access.</p>
            {% else %}
        {#    <p>Please login to see this page.</p>#}
            {% endif %}
        {% endif %}

        <form method="post" action="" align="center">
        {% csrf_token %}
            <table align="center">
            <tr>
                <td>{{ form.username.label_tag }}</td>
                <td>{{ form.username }}</td>
            </tr>
            <tr>
                <td>{{ form.password.label_tag }}</td>
                <td>{{ form.password }}</td>
            </tr>
            </table>
            <br />
            <input type="submit" value="login"/>
        </form>
    </script>

    <script type="text/html" id="activities">
      <form class="activity-form">
        {% csrf_token %}
        <span class="form-title">What do you want to track?</span>
        <input type="text" name="activity" placeholder="ex) steps, stairs, etc." />
        <textarea name="description" placeholder="description"></textarea>
        <button>Add</button>
      </form>
      <ul class="list-activities">
      </ul>
    </script>
    
    <script type="text/html" id="activity">
      <form class="activity-form">
        {% csrf_token %}
        <span>Add Your Stats for </span>
        <span class="activity-title"></span>
        <input type="text" name="date" placeholder="YYYY-MM-DD"
          required
          pattern="^(19|20)\d\d([-])(0[1-9]|1[012])\2(0[1-9]|[12][0-9]|3[01])$">
        <input type="number" name="count" placeholder="Stat"
          required>
        <button>Add</button>
      </form>
      
      <div class="visual"></div>
    </script>
    
    <script type="text/html" id="new-user">
      <form class="new-user">
        {% csrf_token %}
        <span>New User</span>
        {{ registration_form }}
        <button>Register</button>
      </form>
    </script>

    <script src="{% static 'js/vendors/jquery-1.11.3.min.js' %}"></script>
    <script src="{% static 'js/vendors/underscore-min.js' %}"></script>
    <script src="{% static 'js/vendors/backbone-min.js' %}"></script>
    <script src="{% static 'js/vendors/parsley.min.js' %}"></script>
    <script src="{% static 'js/vendors/d3.min.js' %}"></script>
    <script src="{% static 'js/vendors/c3.min.js' %}"></script>

    <script src="{% static 'js/utils/sorted-router.js' %}"></script>
    <script src="{% static 'js/app.js' %}"></script>
    <script src="{% static 'js/utils/render.js' %}"></script>
    <script src="{% static 'js/controllers/login.js' %}"></script>
    <script src="{% static 'js/controllers/register.js' %}"></script>
    <script src="{% static 'js/controllers/activites/activities.js' %}"></script>
    <script src="{% static 'js/controllers/activites/activity.js' %}"></script>

    <script src="{% static 'js/models/activity.js' %}"></script>
    <script src="{% static 'js/models/activity-collection.js' %}"></script>

    <script src="{% static 'js/init.js' %}"></script>

  </body>

</html>
